<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mosaic Rollover - Houselogic</title>
  
  <link href="style/reset.css" rel="stylesheet">
  <link href="../style/main.css" rel="stylesheet">
  <link href="style/grid.css" rel="stylesheet">
  <link href="style/style.css" rel="stylesheet">
  <link href="style/clip.css" rel="stylesheet">
  
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <script src="../js/grid.js"></script>
  <script src="js/snap.svg-min.js"></script>
</head>
<body>
 
 <h1 class="page-title">Houselogic Mosaic Rollover</h1>
 
 <ul class="menu">
   <li>Active state:</li>
   <li><a href="../index.html">Normal</a></li>
   <li><a href="../_fixed-color/index.html">Fixed color</a></li>
   <li><a href="../_full-color/index.html">Full color</a></li>
   <li><a href="../_smooth-color/index.html">Smooth color</a></li>
   <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
   <li>Hover state:</li>
   <li><a href="_shape/index.html" class="active">Shape</a></li>
   <li><a href="../_list/index.html">List</a></li>
 </ul>

 <section class="grid">
   <div class="grid-column">
     
     <article class="article clipped height">
      <div class="image-holder">
        <div class="article-image-mask clip-path square-clip-path-1 clip-bg clip-bg-1"></div>
        <div class="square-clip-path-1 clip-mask-orange"></div>        
      </div>
      <p class="article-category">
        in <a href="">Bathroom & Laundry</a>
      </p>
      <h1 class="article-title line">
        Love Your Bathroom Forever: 9 Perfect Features
      </h1>
      <p class="article-excerpt">
        Fads? Phooey. If you’re looking for style, sanctuary, and long-term value, you can’t go wrong with these bathroom must-haves.
      </p>
    </article>
    
    <article class="article clipped height">
      <div class="image-holder">
        <div class="article-image-mask clip-path square-clip-path-3 clip-bg clip-bg-2"></div>
        <div class="square-clip-path-3 clip-mask-green"></div>        
      </div>
      <p class="article-category">
        in <a href="">Bathroom & Laundry</a>
      </p>
      <h1 class="article-title line">
        Love Your Bathroom Forever: 9 Perfect Features
      </h1>
      <p class="article-excerpt">
        Fads? Phooey. If you’re looking for style, sanctuary, and long-term value, you can’t go wrong with these bathroom must-haves.
      </p>
    </article>
    
    <article class="article clipped height">
      <div class="image-holder">
        <div class="article-image-mask clip-path square-clip-path-2 clip-bg clip-bg-3"></div>
        <div class="square-clip-path-2 clip-mask-blue"></div>        
      </div>
      <p class="article-category">
        in <a href="">Bathroom & Laundry</a>
      </p>
      <h1 class="article-title line">
        Love Your Bathroom Forever: 9 Perfect Features
      </h1>
      <p class="article-excerpt">
        Fads? Phooey. If you’re looking for style, sanctuary, and long-term value, you can’t go wrong with these bathroom must-haves.
      </p>
    </article>
    
   </div><div class="grid-column grid-column-small">
     
     <article class="article article-small clipped height-small">
      <div class="image-holder">
        <div class="article-image-mask clip-path square-clip-path-3 clip-bg clip-bg-4"></div>
        <div class="square-clip-path-3 clip-mask-blue"></div>        
      </div>
      <p class="article-category">
        in <a href="">Bathroom & Laundry</a>
      </p>
      <h1 class="article-title line">
        Love Your Bathroom Forever: 9 Perfect Features
      </h1>
      <p class="article-excerpt">
        Fads? Phooey. If you’re looking for style, sanctuary, and long-term value, you can’t go wrong with these bathroom must-haves.
      </p>
    </article>
    
    <article class="article article-small clipped height-small">
      <p class="article-category">
        in <a href="">Bathroom & Laundry</a>
      </p>
      <h1 class="article-title line">
        Love Your Bathroom Forever: 9 Perfect Features
      </h1>
      <p class="article-excerpt">
        Fads? Phooey. If you’re looking for style, sanctuary, and long-term value, you can’t go wrong with these bathroom must-haves.
      </p>
    </article>
    
    <article class="article article-small clipped height-small">
      <div class="image-holder">
        <div class="article-image-mask clip-path square-clip-path-2 clip-bg clip-bg-5"></div>
        <div class="square-clip-path-2 clip-mask-orange"></div>        
      </div>
      <p class="article-category">
        in <a href="">Bathroom & Laundry</a>
      </p>
      <h1 class="article-title line">
        Love Your Bathroom Forever: 9 Perfect Features
      </h1>
      <p class="article-excerpt">
        Fads? Phooey. If you’re looking for style, sanctuary, and long-term value, you can’t go wrong with these bathroom must-haves.
      </p>
    </article>
    
    <article class="article article-small clipped height-small">
      <p class="article-category">
        in <a href="">Bathroom & Laundry</a>
      </p>
      <h1 class="article-title line">
        Love Your Bathroom Forever: 9 Perfect Features
      </h1>
      <p class="article-excerpt">
        Fads? Phooey. If you’re looking for style, sanctuary, and long-term value, you can’t go wrong with these bathroom must-haves.
      </p>
    </article>
    
    <article class="article article-small clipped height-small" id="circle-article2">
      <div class="image-holder">
        <div class="article-image-mask clip-path circle-clip-path clip-bg clip-bg-6"></div>
        <div class="circle-clip-path clip-mask-orange"></div>
        <svg id="mask-svg2" class="mask-svg2 circle-mask" x="0px" y="0px" viewBox="0 0 300 300" enable-background="new 0 0 300 300" xml:space="preserve">
          
          <path class="svgmask2" fill="#fff" d="M0,0v300h300V0H0z M181.6,122.7c24.1,26.3,13.1,64.9-20,75.5c-32.8,10.5-64.3-22-55.2-55.1l0,0C116.1,113.1,156.5,97.6,181.6,122.7z" />

        </svg>
      </div>
      <p class="article-category">
        Spotlight
      </p>
      <h1 class="article-title line">
        Love Your Bathroom Forever: 9 Perfect Features
      </h1>
      <p class="article-excerpt">
        Fads? Phooey. If you’re looking for style, sanctuary, and long-term value, you can’t go wrong with these bathroom must-haves.
      </p>
    </article>
     
   </div><div class="grid-column">
     
     <article class="article clipped height">
      <div class="image-holder">
        <div class="article-image-mask clip-path square-clip-path-2 clip-bg clip-bg-7"></div>
        <div class="square-clip-path-2 clip-mask-green"></div>        
      </div>
      <p class="article-category">
        in <a href="">Bathroom & Laundry</a>
      </p>
      <h1 class="article-title line">
        Love Your Bathroom Forever: 9 Perfect Features
      </h1>
      <p class="article-excerpt">
        Fads? Phooey. If you’re looking for style, sanctuary, and long-term value, you can’t go wrong with these bathroom must-haves.
      </p>
    </article>
    
    <article class="article clipped height" id="circle-article">
      <div class="image-holder">
        <div class="article-image-mask clip-path circle-clip-path clip-bg clip-bg-8"></div>
        <div class="circle-clip-path clip-mask-blue"></div>
        <svg id="mask-svg" class="mask-svg circle-mask" x="0px" y="0px" viewBox="0 0 300 300" enable-background="new 0 0 300 300" xml:space="preserve">
          
          <path class="svgmask" fill="#fff" d="M0,0v300h300V0H0z M181.6,122.7c24.1,26.3,13.1,64.9-20,75.5c-32.8,10.5-64.3-22-55.2-55.1l0,0C116.1,113.1,156.5,97.6,181.6,122.7z" />

        </svg>
      </div>
      
      
      
      <p class="article-category">
        Spotlight
      </p>
      <h1 class="article-title line">
        Love Your Bathroom Forever: 9 Perfect Features
      </h1>
      <p class="article-excerpt">
        Fads? Phooey. If you’re looking for style, sanctuary, and long-term value, you can’t go wrong with these bathroom must-haves.
      </p>
    </article>
    
    <article class="article clipped height">
      <div class="image-holder">
        <div class="article-image-mask clip-path square-clip-path-1 clip-bg clip-bg-9"></div>
        <div class="square-clip-path-1 clip-mask-green"></div>        
      </div>
      <p class="article-category">
        in <a href="">Bathroom & Laundry</a>
      </p>
      <h1 class="article-title line">
        Love Your Bathroom Forever: 9 Perfect Features
      </h1>
      <p class="article-excerpt">
        Fads? Phooey. If you’re looking for style, sanctuary, and long-term value, you can’t go wrong with these bathroom must-haves.
      </p>
    </article>
     
   </div>
 </section> 


<script>
  var bezier = function(x1, y1, x2, y2, epsilon){

	var curveX = function(t){
		var v = 1 - t;
		return 3 * v * v * t * x1 + 3 * v * t * t * x2 + t * t * t;
	};

	var curveY = function(t){
		var v = 1 - t;
		return 3 * v * v * t * y1 + 3 * v * t * t * y2 + t * t * t;
	};

	var derivativeCurveX = function(t){
		var v = 1 - t;
		return 3 * (2 * (t - 1) * t + v * v) * x1 + 3 * (- t * t * t + 2 * v * t) * x2;
	};

	return function(t){

		var x = t, t0, t1, t2, x2, d2, i;

		// First try a few iterations of Newton's method -- normally very fast.
		for (t2 = x, i = 0; i < 8; i++){
			x2 = curveX(t2) - x;
			if (Math.abs(x2) < epsilon) return curveY(t2);
			d2 = derivativeCurveX(t2);
			if (Math.abs(d2) < 1e-6) break;
			t2 = t2 - x2 / d2;
		}

		t0 = 0, t1 = 1, t2 = x;

		if (t2 < t0) return curveY(t0);
		if (t2 > t1) return curveY(t1);

		// Fallback to the bisection method for reliability.
		while (t0 < t1){
			x2 = curveX(t2);
			if (Math.abs(x2 - x) < epsilon) return curveY(t2);
			if (x > x2) t0 = t2;
			else t1 = t2;
			t2 = (t1 - t0) * .5 + t0;
		}

		// Failure
		return curveY(t2);

      };
  };
  
  var duration = 233;
  var epsilon = (1000 / 60 / duration) / 4;
  var timingFunction = bezier(0.215, 0.61, 0.355, 1, epsilon);
  
  
  var s = Snap(".mask-svg");
  var s2 = Snap(".mask-svg2");
  var mask = s.select(".svgmask");
  var mask2 = s2.select(".svgmask2");
  
  $('#circle-article').on('mouseover', function() {
    mask.animate({ d: "M0,0v300h300V0H0z M179.4,110.6c13.9,27.9,16.8,60.9,10.6,88.8c-31.7-0.9-65.3-14.9-82.4-34.5C123,137.8,147.5,118.8,179.4,110.6z" }, 233, timingFunction);
  })
  
  $('#circle-article').on('mouseout', function() {
    mask.animate({ d: "M0,0v300h300V0H0z M179,120.3c26.1,24.4,18.1,63.7-14.1,76.8c-31.9,13-65.8-16.9-59.3-50.7l0,0C113,115.9,152,97.2,179,120.3z" }, 233, timingFunction);
  })
  
  $('#circle-article2').on('mouseover', function() {
    mask2.animate({ d: "M0,0v300h300V0H0z M179.4,110.6c13.9,27.9,16.8,60.9,10.6,88.8c-31.7-0.9-65.3-14.9-82.4-34.5C123,137.8,147.5,118.8,179.4,110.6z" }, 233, timingFunction);
  })
  
  $('#circle-article2').on('mouseout', function() {
    mask2.animate({ d: "M0,0v300h300V0H0z M179,120.3c26.1,24.4,18.1,63.7-14.1,76.8c-31.9,13-65.8-16.9-59.3-50.7l0,0C113,115.9,152,97.2,179,120.3z" }, 233, timingFunction);
  })
</script>

</body>
</html>